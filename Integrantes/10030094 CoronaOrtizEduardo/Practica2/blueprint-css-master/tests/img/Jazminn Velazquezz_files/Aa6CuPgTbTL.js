/*!CK:1640127950!*//*1379296584,178130201*/

if (self.CavalryLogger) { CavalryLogger.start_js(["SFCWb"]); }

__d("VideoUploadLogger",["Banzai","copyProperties"],function(a,b,c,d,e,f){var g=b('Banzai'),h=b('copyProperties');function i(j){this._source=j.source;this._waterfallID=j.waterfall_id;this._targetID=j.target_id;this._targetType=j.target_type;this._delay=j.delay;this._times=[];}h(i,{BANZAI_GK:'videos',BANZAI_ROUTE:'video_waterfall',SOURCE_SIMPLE:'simple',SOURCE_COMPOSER:'composer',EVENT_REQUESTED_UPLOADING:'upload.client.requested_uploading',EVENT_STARTED_UPLOADING:'upload.client.started_uploading',EVENT_FINISHED_UPLOADING:'upload.client.finished_uploading',EVENT_CANCELED_UPLOADING:'upload.client.canceled_uploading',EVENT_ABANDONED_UPLOADING:'upload.client.abandoned_uploading',EVENT_FAILED_UPLOADING:'upload.client.failed_uploading',EVENT_STARTED_SENDING_BYTES:'upload.client.started_sending_bytes',EVENT_FINISHED_SENDING_BYTES:'upload.client.finished_sending_bytes',EVENT_CANCELED_SENDING_BYTES:'upload.client.canceled_sending_bytes',EVENT_FAILED_SENDING_BYTES:'upload.client.failed_sending_bytes',EVENT_STARTED_SENDING_CHUNK_BYTES:'upload.client.started_sending_chunk_bytes',EVENT_FINISHED_SENDING_CHUNK_BYTES:'upload.client.finished_sending_chunk_bytes',EVENT_CANCELED_SENDING_CHUNK_BYTES:'upload.client.canceled_sending_chunk_bytes',EVENT_FAILED_SENDING_CHUNK_BYTES:'upload.client.failed_sending_chunk_bytes',EVENT_RECEIVED_RESPONSE:'upload.client.received_response'});h(i.prototype,{logEvent:function(event,j){var k=h({},j);if(k.elapsed_time==null)if(event.indexOf('started')!==-1){this._times[event]=Date.now();}else if(event.indexOf('finished')!==-1){k.elapsed_time=this._computeElapsedTime(event,'finished');}else if(event.indexOf('canceled')!==-1){k.elapsed_time=this._computeElapsedTime(event,'canceled');}else if(event.indexOf('failed')!==-1)k.elapsed_time=this._computeElapsedTime(event,'failed');k.event=event;k.source=this._source;k.waterfall_id=this._waterfallID;k.target_id=this._targetID;k.target_type=this._targetType;g.post(i.BANZAI_ROUTE,k,{delay:this._delay});},_computeElapsedTime:function(event,j){var k=event.replace(j,'started'),l=this._times[k];return l?Date.now()-l:null;}});e.exports=i;});